library(csvw)
library(rcsvw)
csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "file")
library("RCurl")
csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "file")
source('~/rcsvw/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "file")
csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "file")
library(rcsvw)
library(rcsvw)
library(rcsvw)
library(rcsvw)
library(rcsvw)
library(rcsvw)
install.packages("lubridate")
install_github("davideceolin/rrdf")
library(devtools)
install_github("davideceolin/rrdf"
)
install_github("davideceolin/rcsvw")
library(rcsvw)
csv2rdf
library(rcsvw)
library(rcsvw)
detach("package:rcsvw", unload=TRUE)
remove.packages("rcsvq")
remove.packages("rcsvw")
install_github("davideceolin/rcsvw")
library(rcsvw)
library(rcsvw)
csv2rdf
csv2json
csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "file")
csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "file")
csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "file")
source('~/rcsvw/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "file")
csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "file")
library(rcsvw)
library(rcsvw)
library(rcsvw)
source('~/rcsvw/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
?rrdf
library(rcsvw)
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
function (x, ...)
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
source('~/rcsvw/R/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv",output = "store")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
source('~/rcsvw/R/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
is.null(x)
x
source('~/rcsvw/R/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
source('~/rcsvw/R/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
source('~/rcsvw/R/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
source('~/rcsvw/R/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
source('~/rcsvw/R/rcsvw.R')
csv2rdf("http://www.w3.org/2013/csvw/tests/test005.csv")
source('~/rcsvw/R/rcsvw.R')
library(rcsvw)
library(rcsvw)
library(rcsvw)
library(rcsvw)
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
getURL("http://www.w3.org/2013/csvw/tests/test001.ttl",.opts=curlOptions(followlocation=TRUE))
getURL("http://www.w3.org/2013/csvw/tests/test001.json",.opts=curlOptions(followlocation=TRUE))
toJSON(getURL("http://www.w3.org/2013/csvw/tests/test001.json",.opts=curlOptions(followlocation=TRUE)) )
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test001.json",.opts=curlOptions(followlocation=TRUE)) )
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test001.json",.opts=curlOptions(followlocation=TRUE)))
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
row=read.csv(text=getURL(url,.opts=curlOptions(followlocation=TRUE)),check.names=FALSE)[1,]
row
(as.list(setNames(colnames(row),as.vector(row))))
as.list(setNames(colnames(row),as.vector(row)))
colnames(row)
as.vector(row)
setNames(colnames(row),as.vector(row))
setNames(names(row),as.vector(row))
colnames(row)
setNames(names(row),unname(unlist(row)))
as.list(setNames(names(row),unname(unlist(row))))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
as.list(unname(unlist(row),setNames(colnames(row))))
list(describes=as.list(unname(unlist(row),setNames(colnames(row)))))
toJSON(list(describes=as.list(unname(unlist(row),setNames(colnames(row))))))
row
toJSON(list(describes=as.list(unname(setNames(unlist(row),colnames(row))))))
toJSON(list(describes=as.list(setNames(unname(unlist(row)),colnames(row))))))
toJSON(list(describes=as.list(setNames(unname(unlist(row)),colnames(row)))))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
getURL("http://www.w3.org/2013/csvw/tests/test001.json")
getURL("http://www.w3.org/2013/csvw/tests/test001.json",.opts=curlOptions(followlocation=TRUE)
)
as.list(setNames(unname(unlist(row)),colnames(row)))
toJSON(as.list(setNames(unname(unlist(row)),colnames(row))))
setNames(unname(unlist(row)),colnames(row)))
setNames(unname(unlist(row)),colnames(row))
list(a=1,b=2)
setNames(colnames(row),unname(unlist(row)))
setNames(unname(unlist(row)),colnames(row))
?setNames
?as.list
list(setNames(unname(unlist(row)),colnames(row)))
as.list(setNames(unname(unlist(row)),colnames(row)))
list(FamilyName="Simpson")
xy.list <- as.list(as.data.frame(t(row)))
xy.list
xy.list <- as.list(as.data.frame(row))
xy.list
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
toJSON(as.list(setNames(unname(unlist(row)),colnames(row))))
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test005.csv"))
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test005.json",.opts=curlOptions(followlocation=TRUE)))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test005.csv"))
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test005.csv"))
source('~/rcsvw/R/rcsvw.R')
[]
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test005.csv"))->a
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test005.json",.opts=curlOptions(followlocation=TRUE)))   ->b
a[!(a %in% b)]
a
b
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test005.csv"))->a
a
source('~/rcsvw/R/rcsvw.R')
as.character(55)
as.character(5511)
list(as.list(as.data.frame(row)))
lapply(list(as.list(as.data.frame(row))),as.character)
?lapply
lapply(list(as.list(as.data.frame(lapply(row,as.character)))))
lapply(row,as.character)
row1<-row
row1$Surname = 1
lapply(row1,as.character)
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test009.csv"))
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test009.json",.opts=curlOptions(followlocation=TRUE)))
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test009.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test009.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test009.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test009.csv"))
fromJSON(getURL(http://w3c.github.io/csvw/tests/test011/tree-ops.csv-metadata.json))
source('~/rcsvw/R/rcsvw.R')
fromJSON(getURL("http://w3c.github.io/csvw/tests/test011/tree-ops.csv-metadata.json"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(getURL("http://w3c.github.io/csvw/tests/test011/tree-ops.csv-metadata.json"))
fromJSON(getURL("http://w3c.github.io/csvw/tests/test001/tree-ops.csv-metadata.json"))
?fromJSON
fromJSON(getURL("http://w3c.github.io/csvw/tests/test011/tree-ops.csv-metadata.json"))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
a<-function(b){print(b)}
a<-function(b,c){print(b)}
a
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
getURL("http://www.w3.org/2013/csvw/tests/test001.csv-metadata.json")
getURL("http://www.w3.org/2013/csvw/tests/test001.csv-metadata.json",.opts=curlOptions(followlocation=TRUE))
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test001.csv-metadata.json",.opts=curlOptions(followlocation=TRUE)))
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test001.csv-metadata.json",.opts=curlOptions(followlocation=TRUE)))
getURL("http://www.w3.org/2013/csvw/tests/test001.csv-metadata.json",.opts=curlOptions(followlocation=TRUE))
?getURL
getURL("http://www.w3.org/2013/csvw/tests/test001.csv-metadata.json",.opts=curlOptions(followlocation=TRUE),httpheader=c(Accept = "application/json"))
getURL("http://www.w3.org/2013/csvw/tests/test011.csv-metadata.json",.opts=curlOptions(followlocation=TRUE),httpheader=c(Accept = "application/json"))
getURL("http://w3c.github.io/csvw/tests/test011/tree-ops.csv-metadata.json",.opts=curlOptions(followlocation=TRUE),httpheader=c(Accept = "application/json"))
fromJSON(getURL("http://w3c.github.io/csvw/tests/test011/tree-ops.csv-metadata.json",.opts=curlOptions(followlocation=TRUE),httpheader=c(Accept = "application/json")))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
fromJSON(getURL("http://w3c.github.io/csvw/tests/test001/tree-ops.csv-metadata.json",.opts=curlOptions(followlocation=TRUE),httpheader=c(Accept = "application/json")))
source('~/rcsvw/R/rcsvw.R')
df <- data.frame()
class(df)
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
url.exists("http://www.w3.org/2013/csvw/tests/test001.csv-metadata.json")
url.exists("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv-metadata.json")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
fromJSON(getURL("http://w3c.github.io/csvw/tests/test011/tree-ops.csv-metadata.json",.opts=curlOptions(followlocation=TRUE),httpheader=c(Accept = "application/json")))
fromJSON(getURL("http://w3c.github.io/csvw/tests/test011/tree-ops.csv-metadata.json",.opts=curlOptions(followlocation=TRUE),httpheader=c(Accept = "application/json")))->metadata
metadata$tableSchema$columns
metadata$tableSchema$columns$name
metadata$tableSchema$columns
class(metadata)
attributes(metadata)
attributes(metadata$tableSchema)
attributes(metadata$tableSchema$columns)
attributes(metadata$tableSchema$columns[1])
attributes(metadata$tableSchema$columns[[1])
attributes(metadata$tableSchema$columns[[1]])
lapply(metadata$tableSchema$columns)
lapply(metadata$tableSchema$columns,FUN=function(x){x$name})
as.vector(lapply(metadata$tableSchema$columns,FUN=function(x){x$name}))
unlist(lapply(metadata$tableSchema$columns,FUN=function(x){x$name}))
c(unlist(lapply(metadata$tableSchema$columns,FUN=function(x){x$name})),"url")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
url<-"http://www.w3.org/2013/csvw/tests/test011.csv"
metadata<-fromJSON(paste(url,"-metadata.json",sep=""),.opts=curlOptions(followlocation=TRUE))
source('~/rcsvw/R/rcsvw.R')
metadata<-fromJSON(getURL(paste(url,"-metadata.json",sep=""),.opts=curlOptions(followlocation=TRUE)))
metadata<-fromJSON(getURL(paste(url,"-metadata.json",sep=""),.opts=curlOptions(followlocation=TRUE)))
url<-"http://www.w3.org/2013/csvw/test011/tree-ops.csv"
metadata<-fromJSON(getURL(paste(url,"-metadata.json",sep=""),.opts=curlOptions(followlocation=TRUE)))
url<-"http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"
metadata<-fromJSON(getURL(paste(url,"-metadata.json",sep=""),.opts=curlOptions(followlocation=TRUE)))
grep("{*}","dsfsd {GID}")
grep("\{\*}","dsfsd {GID}")
grep("{*}","dsfsd {GID}")
?grep
grep("\{*}","dsfsd {GID}")
grep("\\{*}","dsfsd {GID}")
grep("\\{*\\}","dsfsd {GID}")
grepl("\\{*\\}","dsfsd {GID}")
gsub("\\{*\\}","dsfsd {GID}")
sub("\\{*\\}","dsfsd {GID}")
regexpr("\\{*}","dsfsd {GID}")
gregexpr("\\{*}","dsfsd {GID}")
regexec("\\{*}","dsfsd {GID}")
m<-gregexpr("\\{*}","dsfsd {GID}")
regmatches("dsfsd {GID}", m)
m<-gregexpr("\\{*\\}","dsfsd {GID}")
regmatches("dsfsd {GID}", m)
m<-gregexpr("\\{[^)]\\}","dsfsd {GID}")
regmatches("dsfsd {GID}", m)
m<-gregexpr("\\{*\\}","dsfsd {GID}")
regmatches("dsfsd {GID}", m)
m<-gregexpr("\\{[:print:]\\}","dsfsd {GID}")
regmatches("dsfsd {GID}", m)
grep("\\{[:print:]\\}","dsfsd {GID}")
grepl("\\{[:print:]*\\}","dsfsd {GID}")
grepl("\\{[^:]+\\}","dsfsd {GID}")
m<-gregexpr("\\{[^:]+\\}","dsfsd {GID}")
regmatches("dsfsd {GID}", m)
regmatches("dsfsd {GID}", m, invert=TRUE)
regmatches("dsfsd {GID}", m)
gsub("\\{|\\}",regmatches("dsfsd {GID}", m))
gsub("\\{|\\}",'',regmatches("dsfsd {GID}", m))
source('~/rcsvw/R/rcsvw.R')
a = data.frame(a=c(1,2))
a
b <- "a"
a[[b]]
source('~/rcsvw/R/rcsvw.R')
id
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
url
metadata<-fromJSON(getURL(paste(url,"-metadata.json",sep=""),.opts=curlOptions(followlocation=TRUE)))
colnames(tabular)<-unlist(lapply(metadata$tableSchema$columns,FUN=function(x){x$name}))
m<-gregexpr("\\{[^:]+\\}",metadata$aboutUrl)
id<-gsub("\\{|\\}",'',regmatches(metadata$aboutUrl, m))
id
m
metadata$aboutUrl
metadata
m<-gregexpr("\\{[^:]+\\}",metadata$tableSchema$aboutUrl)
id<-gsub("\\{|\\}",'',regmatches(metadata$tableSchema$aboutUrl, m))
id
s<-metadata$tableSchema$aboutUrl
gsub(s,id,data[id])
tabular<-read.csv(text=getURL(url,.opts=curlOptions(followlocation=TRUE)),check.names=FALSE)
gsub(s,id,data[[id]])
s
?gsub
gsub(id,data[[id]],s)
data[[id]]
tabular[[id]]
gsub(id,tabular[[id]][1],s)
gsub(paste("\\{",id,"\\}",sep=""),tabular[[id]][1],s)
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
1:10
lapply(1:10,paste("x",sep=""))
lapply(1:10,paste("x",x,sep=""))
lapply(seq(1,10),paste("x",x,sep=""))
x
lapply(seq(1,10),paste(sep=""))
lapply(seq(1,10),function(x)paste(x,sep=""))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
str(metadata)
names(metadata)
names(metadata)[":"%in%names(metadata),]
names(metadata)[grepl("^m.*\\.log", names(metadata))]
names(metadata)[grepl(":", names(metadata))]
metadata[names(metadata)[grepl(":", names(metadata))]]
url
source('~/rcsvw/R/rcsvw.R')
Tabular(url)
source('~/rcsvw/R/rcsvw.R')
Tabular(url)
source('~/rcsvw/R/rcsvw.R')
Tabular(url)
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular(url)
Tabular(url)->a
a
a["a",]<-1
a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
a$row
a.row
a[[row]]
a@row
a@row["GID"]
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
a
a$row
a@row
as.list(a@row)
as.list(a@row[1])
as.list(a@row[1,])
as.list(a@row[1,],stringAsFactors=FALSE)
metadata
metadata[names(metadata)[grepl(":", names(metadata))]]
toJSON(metadata[names(metadata)[grepl(":", names(metadata))]])
metadata[names(metadata)[grepl(":", names(metadata))]]
str(metadata[names(metadata)[grepl(":", names(metadata))]])
names(metadata[names(metadata)[grepl(":", names(metadata))]])
clean
b <- c(1,2,3)
1 %in% b
meta<-metadata[names(metadata)[grepl(":", names(metadata))]]
meta
?lapply
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
source('~/rcsvw/R/rcsvw.R')
clean(meta)
lapply(meta,function(y){
if(names(y)=="@id")
y$"@id"
else if("@value" %in% names(y)){
y$"@value"
}else
y
})
names(meta)
names(meta$"dc:title")
names(meta$"dcat:keyword")
meta
names(meta$`dcat:keyword`)
names(meta$`dcat:modified`)
names(meta$`dc:modified`)
lapply(meta,function(y){
print(y)
if(names(y)=="@id")
y$"@id"
else if("@value" %in% names(y)){
y$"@value"
}else
y
})
meta
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
clean <-function(x){
lapply(x,function(y){
if(!is.null(names(y)) && names(y)=="@id")
y$"@id"
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$"@value"
}else
y
})
}
clean(meta)
clean <-function(x){
rapply(x,function(y){
if(!is.null(names(y)) && names(y)=="@id")
y$"@id"
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$"@value"
}else
y
})
}
clean(meta)
?rapply
clean <-function(x){
rapply(x,function(y){
if(!is.null(names(y)) && names(y)=="@id")
y$"@id"
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$"@value"
}else
y
},how=list)
}
clean(meta)
clean <-function(x){
rapply(x,function(y){
if(!is.null(names(y)) && names(y)=="@id")
y$"@id"
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$"@value"
}else
y
},how="list")
}
clean(meta)
metadata[names(metadata)[grepl(":", names(metadata))]
]
metadata[names(metadata)[grepl(":", names(metadata))]]
