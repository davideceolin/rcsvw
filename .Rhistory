source('~/rcsvw/R/rcsvw.R')
Tabular(url)
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular(url)
Tabular(url)->a
a
a["a",]<-1
a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
a$row
a.row
a[[row]]
a@row
a@row["GID"]
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
source('~/rcsvw/R/rcsvw.R')
a
a$row
a@row
as.list(a@row)
as.list(a@row[1])
as.list(a@row[1,])
as.list(a@row[1,],stringAsFactors=FALSE)
metadata
metadata[names(metadata)[grepl(":", names(metadata))]]
toJSON(metadata[names(metadata)[grepl(":", names(metadata))]])
metadata[names(metadata)[grepl(":", names(metadata))]]
str(metadata[names(metadata)[grepl(":", names(metadata))]])
names(metadata[names(metadata)[grepl(":", names(metadata))]])
clean
b <- c(1,2,3)
1 %in% b
meta<-metadata[names(metadata)[grepl(":", names(metadata))]]
meta
?lapply
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular(url)->a
a
source('~/rcsvw/R/rcsvw.R')
clean(meta)
lapply(meta,function(y){
if(names(y)=="@id")
y$"@id"
else if("@value" %in% names(y)){
y$"@value"
}else
y
})
names(meta)
names(meta$"dc:title")
names(meta$"dcat:keyword")
meta
names(meta$`dcat:keyword`)
names(meta$`dcat:modified`)
names(meta$`dc:modified`)
lapply(meta,function(y){
print(y)
if(names(y)=="@id")
y$"@id"
else if("@value" %in% names(y)){
y$"@value"
}else
y
})
meta
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
clean <-function(x){
lapply(x,function(y){
if(!is.null(names(y)) && names(y)=="@id")
y$"@id"
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$"@value"
}else
y
})
}
clean(meta)
clean <-function(x){
rapply(x,function(y){
if(!is.null(names(y)) && names(y)=="@id")
y$"@id"
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$"@value"
}else
y
})
}
clean(meta)
?rapply
clean <-function(x){
rapply(x,function(y){
if(!is.null(names(y)) && names(y)=="@id")
y$"@id"
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$"@value"
}else
y
},how=list)
}
clean(meta)
clean <-function(x){
rapply(x,function(y){
if(!is.null(names(y)) && names(y)=="@id")
y$"@id"
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$"@value"
}else
y
},how="list")
}
clean(meta)
metadata[names(metadata)[grepl(":", names(metadata))]
]
metadata[names(metadata)[grepl(":", names(metadata))]]
source('~/rcsvw/R/rcsvw.R')
getURL('/Users/dceolin/Documents/csvw/csvw/tests/test011.csv')
getURL('file://Users/dceolin/Documents/csvw/csvw/tests/test011.csv')
getURL('file:\\Users/dceolin/Documents/csvw/csvw/tests/test011.csv')
getURL('file:\\Users\dceolin\Documents\csvw\csvw\tests\test011.csv')
source('~/rcsvw/R/rcsvw.R')
Tabular(url)
metadata
str(metadata)
class(metadata) == "List"
class(metadata) == "list"
clean <-function(x){
lapply(x,function(y){
if(!is.null(names(y)) && names(y)=="@id")
y$"@id"
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$"@value"
}else if(class(y) == "list")
lapply(y,clean)
else
y
})
}
clean(metadata)
metadata
clean(metadata)
clean <-function(x){
lapply(x,function(y){
if(!is.null(names(y)) && names(y)==`@id`)
y$`@id`
else if(!is.null(names(y)) && "@value" %in% names(y)){
y$`@value`
}else if(class(y) == "list")
lapply(y,clean)
else
y
})
}
clean(metadata)
names(metadata)
clean(metadata[names(metadata)[grepl(":", names(metadata))]])
metadata
source('~/rcsvw/R/rcsvw.R')
clean(metadata[names(metadata)[grepl(":", names(metadata))]])
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
clean(metadata[names(metadata)[grepl(":", names(metadata))]])
metadata
metadata$`dc:publisher`
class(metadata$`dc:publisher`)
clean(metadata$`dc:publisher`)
source('~/rcsvw/R/rcsvw.R')
clean(metadata$`dc:publisher`)
metadata$`dc:publisher`
metadata$`dc:publisher`$"schema:name"
metadata$`dc:publisher`$"schema:url"
x<-metadata$`dc:publisher`$"schema:url"
x
names(x)
if(names(x) == "@id") x<-x$"@id"
x
source('~/rcsvw/R/rcsvw.R')
clean(metadata$`dc:publisher`)
metadata$`dc:publisher`
source('~/rcsvw/R/rcsvw.R')
metadata$`dc:publisher`
clean(metadata$`dc:publisher`)
source('~/rcsvw/R/rcsvw.R')
clean(metadata$`dc:publisher`)
Tabular(url)
source('~/rcsvw/R/rcsvw.R')
Tabular(url)
source('~/rcsvw/R/rcsvw.R')
Tabular(url)
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
clean(metadata$`dc:publisher`)
clean(metadata[names(metadata)[grepl(":", names(metadata))]])
metadata[names(metadata)[grepl(":", names(metadata))]]
clean(metadata$"dc:license")
names(metadata$"dc:license")
source('~/rcsvw/R/rcsvw.R')
clean(metadata$"dc:license")
clean(metadata$"dc:license")
source('~/rcsvw/R/rcsvw.R')
clean(metadata$"dc:license")
clean(metadata[names(metadata)[grepl(":", names(metadata))]])
clean(metadata[names(metadata)[grepl(":", names(metadata))]])->res
str(res)
source('~/rcsvw/R/rcsvw.R')
Tabular(url)
as.list(Tabular(url))
Tabular(url)->tb
toJSON(tb)
str(tb)
getClass(tb)
toJSON(getClass(tb))
as.list(getClass(tb))
getClass(tb)
toJSON(list(url=tb@url,row=tb@row,tb@meta))
url
getURL("http://www.w3.org/2013/csvw/tests/test011/tree-ops.json")
getURL("http://www.w3.org/2013/csvw/tests/test011/tree-ops.json",.opts=curlOptions(followlocation=TRUE))
getURL("http://www.w3.org/2013/csvw/tests/test011/tree-ops.json",.opts=curlOptions(followlocation=TRUE))
getURL("http://www.w3.org/2013/csvw/tests/test011/resutl.json",.opts=curlOptions(followlocation=TRUE))
getURL("http://www.w3.org/2013/csvw/tests/test011/result.json",.opts=curlOptions(followlocation=TRUE))
toJSON(list(url=tb@url,row=tb@row,tb@meta))
list(url=tb@url,row=tb@row,tb@meta)
names(tb@row)[names(tb@row)=="url",]
names(tb@row)[names(tb@row)=="url"]
source('~/rcsvw/R/rcsvw.R')
url
csv2json(url)
url
source('~/rcsvw/R/rcsvw.R')
csv2json(url)
source('~/rcsvw/R/rcsvw.R')
validObject(Tabular(url))
?setClass
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
getURL("http://www.w3.org/2013/csvw/tests/test001.json",.opts=curlOptions(followlocation=TRUE))
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test001.json",.opts=curlOptions(followlocation=TRUE)))
tb@row
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
??os
??is.
is.empty()
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")->tb
tb@meta
length(tb@meta)
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")->tb
tb
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")->tb
tb
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
tb
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")->tb
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")->tb
tb
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")->tb
tb
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")->tb
?sapply
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")->tb
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")->tb
tb
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
toJSON(Tabular("http://www.w3.org/2013/csvw/tests/test001.csv"))
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
Lobs[!(Lobs %in% Lexp)]
s1<-csv2rdf("http://www.w3.org/2013/csvw/tests/test001.csv",output = "store")
s1<-fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
s2<-fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test001.json",.opts=curlOptions(followlocation=TRUE)))
s1[!(s1 %in% s2)]
s2
source('~/rcsvw/R/rcsvw.R')
s1<-fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
s1[!(s1 %in% s2)]
s1
s2
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
s1<-fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
s2<-fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test001.json",.opts=curlOptions(followlocation=TRUE)))
s2
s2
s1[!(s1 %in% s2)]
toJSON(s2)
toJSON(s1)
source('~/rcsvw/R/rcsvw.R')
s1<-fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test001.csv"))
toJSON(s1)
toJSON(s2)
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
toJSON(s2)
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
?unlist
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
toJSON(s2)
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
csv2json("http://www.w3.org/2013/csvw/tests/test001.csv")
toJSON(s2)
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test001.csv")
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-op.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-op.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-op.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-op.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-op.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-op.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-op.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/tests/test011/tree-op.csv")
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/tests/test011/tree-op.csv")
?debug
debug(Tabular("http://www.w3.org/tests/test011/tree-op.csv"))
source('~/rcsvw/R/rcsvw.R')
debug(Tabular("http://www.w3.org/tests/test011/tree-op.csv"))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
debug(Tabular("http://www.w3.org/tests/test011/tree-op.csv"))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
debug(Tabular("http://www.w3.org/tests/test011/tree-op.csv"))
source('~/rcsvw/R/rcsvw.R')
debug(Tabular("http://www.w3.org/tests/test011/tree-op.csv"))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
debug(Tabular("http://www.w3.org/tests/test011/tree-op.csv"))
Tabular("http://www.w3.org/tests/test011/tree-op.csv")
Tabular("http://www.w3.org/tests/test011/tree-ops.csv")
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
toJSON(Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"))
csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")
getURL("http://www.w3.org/2013/csvw/tests/test011/result.json",.opts=curlOptions(followlocation=TRUE))
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test011/result.json",.opts=curlOptions(followlocation=TRUE)))
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"))
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")->tb
list(tables=list(list(url=tb@url,row=tb@tables,unlist(tb@meta))))
list(tables=list(list(url=tb@url,row=tb@tables,tb@meta)))
list(tables=list(url=tb@url,row=tb@tables,tb@meta))
toJSON(list(tables=list(url=tb@url,row=tb@tables,tb@meta)))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"))
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test011/result.json",.opts=curlOptions(followlocation=TRUE)))
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"))
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test011/result.json",.opts=curlOptions(followlocation=TRUE)))
source('~/rcsvw/R/rcsvw.R')
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"))
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"))
fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test011/result.json",.opts=curlOptions(followlocation=TRUE)))
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"))
csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")
getURL("http://www.w3.org/2013/csvw/tests/test011/result.json",.opts=curlOptions(followlocation=TRUE))
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")
Tabular("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")->tb
tb@meta
toJSON(tb@meta)
list(url=tb@url,unlist(tb@meta))
append(list(url=tb@url),tb@meta)
source('~/rcsvw/R/rcsvw.R')
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")
source('~/rcsvw/R/rcsvw.R')
csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")
fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv"))
str(fromJSON(csv2json("http://www.w3.org/2013/csvw/tests/test011/tree-ops.csv")))
str(fromJSON(getURL("http://www.w3.org/2013/csvw/tests/test011/result.json",.opts=curlOptions(followlocation=TRUE))))
source('~/rcsvw/R/rcsvw.R')
